# Egg One by One

## egg Study methods

* 1、阅读文档，跟着文档编写case。
* 2、学会一种调试方式，实际运行代码。
* 3、阅读源码，分析内部实现方式，学习Node本身的知识点，阅读分析的文章。
* 4、在实际项目中开发使用。

### 1、Egg 是什么
* 1、完善的目录结构及约定。
* 2、egg 本身提供了 **Controller** **service** 层的抽象。
  *  Controller 负责解析用户的输入，处理后返回相应的结果
  * **Controller** 一般不会自己产出数据，也不会包含复杂的逻辑，复杂的过程应抽象为业务逻辑层 Service。
  * 框架本身提供了一种目录约定能力，比如`controller public view service config` 并提供了基于框架的对分散组件的访问能力，提供了大型应用开发时文件的组织能力，使其能够更好的复用、维护和协同开发
  * 文件名就是使用时对应的变量名，并且文件的命名体现该文件的功能，
  * middleware 中的文件，接近于 koa 框架的中间件功能。其余的文件则是，Egg 对开发文件的一种划分和组织，（同样也体现了软件开发工程中的思想）并在内部实现了这种文件的组织。
  * 刚开始的时候写的时候，代码并没有明显的代码关联语句，而在使用的时候有关联。这时候要是有个代码高亮就好了，或者就记住它。
  * egg-core/loader/minxin/controller.js .... 加载器
  * 内容被加载到了 context 上下文中
* 3、**service** Service 就是在复杂业务场景下用于做业务逻辑封装的一个抽象层。
	* 	保持 Controller 中的逻辑更加简洁。
	* 	保持业务逻辑的独立性，抽象出来的 Service 可以被多个 Controller 重复调用。
	* 	将逻辑和展现分离，更容易编写测试用例。
	* 	**使用场景：**
	* 	复杂数据的处理，比如要展现的信息需要从数据库获取，还要经过一定的规则计算，才能返回用户显示。或者计算完成后，更新到数据库。
	* 	第三方服务的调用，比如 GitHub 信息获取等。
* 4、**config** 应用开发遵循配置和代码分离的原则，将一些需要硬编码的业务配置都放到配置文件中，同时配置文件支持各个不同的运行环境使用不同的配置，使用起来也非常方便。能够提高应用的扩展性。
* 5、中间件 无论是自定义的还是引入的，（自定义中间件有固定的规范）都必须在`config`中定义才能使用。
* 6、调试：新版的VSCode 调试时不配置 `--inspect-brk`可以启动调试
* 7、**路由** ：Router 主要用来描述请求 URL 和具体承担执行动作的 Controller 的对应关系， 框架约定了 app/router.js 文件用于统一所有路由规则。
* 8、http请求都是无状态的，但是我们的Web应用通常都需要知道发起请求的人是谁。